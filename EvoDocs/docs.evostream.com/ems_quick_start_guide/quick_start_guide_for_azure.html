<!DOCTYPE html>
<html>

  
<!-- Mirrored from docs.evostream.com/ems_quick_start_guide/quick_start_guide_for_azure by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 19 Dec 2016 10:37:03 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Quick Start Guide for Microsoft Azure</title>
  <meta name="description" content="Purpose">

  <link rel="stylesheet" href="css/main.css">
  <link rel="canonical" href="quick_start_guide_for_azure.html">
  <link rel="alternate" type="application/rss+xml" title="EvoStream Media Server" href="feed.xml">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="https://evostream.com/">Back to EvoStream.com</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="doc_index/index.html">Documentation Main Index</a>
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Quick Start Guide for Microsoft Azure</h1>
    <p class="post-meta">
      <a href="https://github.com/EvoStream/ems_quick_start_guide/blob/gh-pages/_posts/2016-01-01-ems-quick-start-guide-azure.md">Edit on GitHub</a>
    </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <h2 id="purpose">Purpose</h2>

<p>This document describes how to set up a virtual machine with EvoStream Media Server software on Microsoft Azure, an open, flexible, enterprise-grade cloud computing platform.</p>

<p>Microsoft Azure is a cloud-computing platform that virtualizes computing resources as virtual machines. EvoStream provides a Linux and Windows machine with a preconfigured version of EvoStream Media Server that is ready to start using Azure services. You can use this machine to launch EMS, paying for your running instance time and bandwidth consumption only while the instances are running. You can launch EMS instances in specific geographical locations that are closer to your audience to reduce latency and in multiple geographical locations to provide high levels of redundancy.</p>

<h2 id="getting-started">Getting Started</h2>

<h3 id="pre-requisites">Pre-requisites</h3>

<ul>
  <li>
    <p>Microsoft Account</p>

    <p>​</p>
  </li>
</ul>

<h3 id="setup-virtual-machine-environment">Setup Virtual Machine Environment</h3>

<p>To get started with the EvoStream Media Server (EMS) on Azure, the first thing to do is to setup the virtual machine by simply following these steps:</p>

<ul>
  <li><em>Quick-Deploy: Steps 1 and 2 below can be skipped by clicking one of the following buttons:</em>
    <ul>
      <li><em>Quick-Deploy EvoStream Media Server 1.7.1 for Windows Server 2012 R2</em><br />
<a href="https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FEvoStream%2Fevostream_addons%2Fmaster%2Fazure_templates%2Fems171_windows2012%2Fazuredeploy.json" target="_blank"><img src="../../azuredeploy.net/deploybutton.png" /></a></li>
      <li><em>Quick-Deploy EvoStream Media Server 1.7.1 for Ubuntu 14.04 64-bit</em><br />
<a href="https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FEvoStream%2Fevostream_addons%2Fmaster%2Fazure_templates%2Fems171_ubuntu1404%2Fazuredeploy.json" target="_blank"><img src="../../azuredeploy.net/deploybutton.png" /></a></li>
    </ul>
  </li>
</ul>

<ol>
  <li>
    <p>Search for the EvoStream Media Server in the Azure marketplace, or simply follow this link:</p>

    <p>https://azure.microsoft.com/en-us/marketplace/partners/evostream-inc/evostream-media-server/</p>

    <p><img src="assets/homepage.jpg" alt="" /></p>

    <p>​</p>
  </li>
  <li>
    <p>Select the operating system for the virtual machine to be created. Click on <strong>Create Virtual Machine</strong> button.</p>

    <p><img src="assets/OSselect.jpg" alt="" /></p>

    <p>​</p>

    <p><strong>Images available:</strong></p>

    <ul>
      <li>EvoStream Media Server for Windows - Windows Server 2012 R2</li>
      <li>EvoStream Media Server for Ubuntu - Ubuntu 14.04 64-bit</li>
    </ul>

    <p>​</p>
  </li>
  <li>
    <p><strong>Sign in</strong> your Microsoft Azure account if not yet signed in. You will be redirected to the EvoStream Media Server page.  Read on the notes and if ready, click on the <strong>Create</strong> button.</p>

    <p><img src="assets/create_windows.jpg" alt="" /></p>

    <p>​</p>
  </li>
  <li>
    <p>Configure the virtual machine settings based on your preferences</p>
  </li>
  <li>
    <p>Review the Settings, Offer Details and Terms of Use then click <strong>Purchase</strong> to start the deployment</p>
  </li>
  <li>
    <p>To check if the image has been created, on the Microsoft Azure Dashboard, click on the <strong>Virtual machines</strong>. You will now see the image created once the deployment succeeded.</p>
  </li>
</ol>

<p><strong>Note:</strong> The machine is started after the deployment</p>

<h3 id="connecting-to-ems-machine">Connecting to EMS machine</h3>

<p>All the virtual machines in your account is seen under the Virtual machines in the left-side menu bar.</p>

<p>Click on the Virtual Machine name. Click on <strong>Start</strong>.</p>

<p><img src="assets/startVM.jpg" alt="" /></p>

<h4 id="connecting-via-ssh-from-linux-terminal">Connecting via SSH from Linux Terminal</h4>

<ol>
  <li>
    <p>Send command:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>ssh &lt;username&gt;@&lt;IP_address&gt;
</code></pre>
    </div>

    <p>The username and password is set in step 4 above.</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>user@ubuntu:~/Desktop$ ssh user@11.221.105.202
   
The authenticity of host '111.221.105.202 (111.221.105.202)' can't be established.
RSA key fingerprint is ae:02:ee:41:ff:38:96:ab:78:7b:3a:e6:09:ed:1f:4c.
Are you sure you want to continue connecting (yes/no)? 
</code></pre>
    </div>
  </li>
  <li>
    <p>Input “<strong>yes</strong>”, press <strong>Enter</strong></p>

    <div class="highlighter-rouge"><pre class="highlight"><code>Warning: Permanently added '111.221.105.202' (RSA) to the list of known hosts.
user@111.221.105.202's password:
</code></pre>
    </div>
  </li>
  <li>
    <p>Enter password, press <strong>Enter</strong>. A welcome note will open. You then need to <strong><u>install the license</u></strong> to be able to use the EMS capabilities.</p>
  </li>
</ol>

<p><strong>Note:</strong> The license should be placed in <code class="highlighter-rouge">/etc/evostreamms</code> for Linux and in <code class="highlighter-rouge">./config</code> in Windows</p>

<h4 id="connecting-via-ssh-from-windows-putty">Connecting  via SSH from Windows (PuTTy)</h4>

<p><strong>Pre-requisites:</strong></p>

<ul>
  <li>PuTTY Secure Shell Client</li>
</ul>

<ol>
  <li>
    <p>Run <strong>PuTTY</strong></p>
  </li>
  <li>
    <p>Select <strong>Session</strong> under the category tree</p>

    <p><img src="assets/image16.png" alt="" /></p>

    <p>​</p>
  </li>
  <li>
    <p>Specify the destination you want to connect to:</p>

    <p><img src="assets/putty.jpg" alt="" /></p>

    <p>​</p>

    <p><strong>Host Name</strong> – the username and public IP address in Azure virtual machine running EvoStream Media Server</p>

    <p><strong>Port</strong> – 22 (default)</p>

    <p><strong>Connection type</strong> – SSH</p>

    <p>​</p>
  </li>
  <li>
    <p>Click <strong>Open</strong></p>
  </li>
  <li>
    <p>Click  <strong>Yes</strong> to accept the security key on the PuTTy Security Alert Window</p>
  </li>
  <li>
    <p>Enter the username’s password, hit <strong>Enter</strong></p>

    <div class="highlighter-rouge"><pre class="highlight"><code>Using username "EvoStream".
EvoStream@111.221.105.202's password: 
</code></pre>
    </div>
  </li>
  <li>
    <p>You are now connected to the machine! You then need to <strong><u>install the license</u></strong> to be able to use the EMS capabilities.</p>

    <p><strong>Note:</strong> The license should be placed in <code class="highlighter-rouge">/etc/evostreamms</code> for Linux and in <code class="highlighter-rouge">./config</code> in Windows</p>

    <p>​</p>
  </li>
</ol>

<h4 id="connecting-via-remote-desktop">Connecting via Remote Desktop</h4>

<ol>
  <li>
    <p>Run the <strong>Remote Desktop Application</strong> to be used</p>

    <p><strong>Note:</strong> The remote desktop application will depend on the OS you will use.</p>
  </li>
  <li>
    <p>Enter the details of the virtual machine image, click <strong>Connect</strong></p>

    <p><strong>Computer</strong> -  the IP address of the image</p>

    <p><strong>Username</strong> -  the username set for the image</p>

    <p><img src="assets/remotedesktop.jpg" alt="" /></p>

    <p>​</p>
  </li>
  <li>
    <p>Enter the <strong>password</strong> for the user, click <strong>OK</strong></p>
  </li>
  <li>
    <p>The connection will be established. You may now <strong><u>install the license</u></strong> to use the EMS capabilities!</p>

    <p><strong>Note:</strong> The EMS is installed in <code class="highlighter-rouge">C:\EvoStream</code></p>

    <p>​</p>
  </li>
</ol>

<h2 id="ems-web-ui">EMS Web UI</h2>

<p>While most work with the EMS happens at the command line or through the HTTP based API calls, the EMS does have a Web UI that can be used. To access the UI simply point your browser at the proper URL: <code class="highlighter-rouge">http://&lt;DomainOrPublicIP&gt;:8888/EMS_Web_UI/index.php</code></p>

<p>&lt; DomainOrPublicIP &gt; will need to be replaced with the Public Domain or Public IP of your new EC2 Instance.</p>

<h3 id="determining-public-ip">Determining Public IP</h3>

<ol>
  <li>
    <p>Sign in to <em>http://portal.azure.com/</em></p>
  </li>
  <li>
    <p>Click on virtual machine created under Virtual Machines menu</p>
  </li>
  <li>
    <p>Start the virtual machine</p>
  </li>
  <li>
    <p>In the Essentials pane, the Public IP address/DNS name label is displayed</p>

    <p><strong>Note:</strong> The IP address is changing everytime the virtual machine is restarted</p>

    <p><img src="assets/IPinAzure.jpg" alt="" /></p>
  </li>
</ol>

<h2 id="authentication">Authentication</h2>

<p>The authentication is only enabled starting the 1.7.1 version of EMS. The Authentication is enabled by default in EMS Web UI and HTTP Based API.</p>

<h3 id="login-for-web-ui">Login for Web UI</h3>

<p>The Web UI is protected by default when using the EMS on Azure.  When accessing the Web UI you will be prompted for a username and password.</p>

<p><img src="assets/authentication.jpg" alt="" /></p>

<ul>
  <li>Username: evostream</li>
  <li>Password: “UID” - the unique identifier of the virtual machine, this will be seen in webconfig.lua</li>
</ul>

<h3 id="http-based-api">HTTP Based API</h3>

<p>For the EMS on Azure, the HTTP based API is exposed, but it requires authentication to be used.  We call this <strong>Proxy Authentication</strong>. Basic Authentication is used and so just a username and password are required:</p>

<ul>
  <li>Username: evostream</li>
  <li>Password: “UID” - the unique identifier of the virtual machine, this will be seen in webconfig.lua</li>
</ul>

<p>Command will take this general format:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>http://Username:Password@IPAddress:Port/apiproxy/CommandName?params=&lt;base64EncodedString&gt;
</code></pre>
</div>

<p><strong>Sample Command:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>http://evostream:i-D817E76F-B6F2-CC4F-ACAC-EAE9D84CEE3F@52.91.237.115:8888/apiproxy/version
</code></pre>
</div>

<p><strong>Note:</strong> username is “<strong>evostream</strong>” and password is the “<strong>UID</strong>”</p>

<p>See <a href="../ems_user_guide/runtimeapi.html#http">Proxy Authentication</a> for more details.</p>

<h3 id="getting-the-unique-id">Getting the Unique ID</h3>

<p>The UID will serves as the password for the Proxy and Web UI authentication. The UID is obtained once a virtual machine is made. It can only be checked in the EMS webconfig.lua.</p>

<p><strong>in webconfig.lua:</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>apiProxy=
{
   authentication="basic",
   pseudoDomain="apiproxy",
   address="127.0.0.1",
   port=7777,
   userName="evostream",
   password="D817E76F-B6F2-CC4F-ACAC-EAE9D84CEE3F",   --&gt; sample UID
}
</code></pre>
</div>

<h2 id="terminating-ems-machine">Terminating EMS machine</h2>

<h3 id="stopping-ems-machine">Stopping EMS machine</h3>

<p>When you want to stop the virtual machine, fret not, all the changes remains in the server. The machine is only in suspended.</p>

<ol>
  <li>Click on the Virtual machine menu</li>
  <li>Right click on the virtual machine name, click on <strong>Stop</strong></li>
  <li>or, simply click <strong>Stop</strong> on the virtual machine window</li>
  <li>Confirm stopping the virtual machine by clicking <strong>Yes</strong></li>
</ol>

<p><img src="assets/stopVM.jpg" alt="" /></p>

<h3 id="deleting-ems-machine">Deleting EMS machine</h3>

<p>Deleting the EMS virtual machine will remove all the changes and the virtual machine itself in the Azure Virtual Machine list.</p>

<ol>
  <li>Click on the Virtual machine menu</li>
  <li>Right click on the virtual machine name, click on <strong>Delete</strong></li>
  <li>or, simply click <strong>Delete</strong> on the virtual machine window</li>
  <li>Choose if you want to delete or keep the attached disk</li>
</ol>

<p><img src="assets/deleteVM.jpg" alt="" /></p>

  </div>

</article>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading"><a href="../index.html">Documentation main index</a></h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Sales Support</li>
          <li><a href="mailto:salesupport@evostream.com">salesupport@evostream.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/EvoStream"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">EvoStream</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/EvoStreamInc"><span class="icon icon--twitter"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">EvoStreamInc</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>EvoStream, 1010 Turquoise, Suite 101, San Diego, CA 92109, California, USA.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>


<!-- Mirrored from docs.evostream.com/ems_quick_start_guide/quick_start_guide_for_azure by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 19 Dec 2016 10:37:23 GMT -->
</html>
